unbind C-b;
set -g prefix C-s;
bind C-s send-keys 'C-s';

set -g mouse off
set -g status-interval 0
set -g escape-time 10
set -g monitor-activity on
set -g display-time 4000
set -g mode-keys vi
#set -g default-command "zsh -i"

#bind -n Pageup copy-mode -u

bind j select-pane -D
bind k select-pane -U
bind h select-pane -L
bind l select-pane -R

bind & kill-window

# show a popup for command running
bind y run-shell -b '\
    if [ "$(echo #{session_name})" = "popup" ]; then \
        tmux detach-client; \
    else \
        tmux popup -d "#{pane_current_path}" -xC -yC -w99% -h99% \
            -E "tmux new-session -c $HOME/Downloads -A -s popup"; \
    fi; \
'

# THEME
#status_left="#[fg=green,bold,bg=black]#H#[fg=yellow,bold] #S #[bg=default,fg=white] » "
status_left="#[fg=white,bg=red] #H #[fg=white,bg=blue] #S #[bg=default,fg=white] » "
set -g base-index 1
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"
set -g status-position top
set -g status-left "$status_left"
set -g status-left-length 60
set -g status-right ""
set -g status-style "fg=cyan,bg=default"
set -g message-style "fg=default,bg=default"
set -g mode-style "fg=default,bg=red"
set -g pane-active-border-style "fg=green,bg=default"
set -g window-status-activity-style "fg=yellow,bg=default"
set -g window-status-current-style "fg=black,bg=magenta"

# manage alacritty shortcuts
if-shell -b '[ "$(cat $HOME/.platformrc|grep LOCAL_MACHINE_NAME|head -n 1|cut -d = -f 2)" = "\"xy2\"" ]' {
    # Handle shortcuts; C-x prefix is modified by alacritty
    bind -n C-\\ if-shell '[ "$(tmux show-options -g prefix)" = "prefix C-s" ]' {
        set -g prefix C-q
        set -g status-left "#[fg=black,bold,bg=green] ↓ $status_left"
    } {
        set -g prefix C-s
        set -g status-left "#[fg=black,bold,bg=green] ↑ $status_left"
    }

    # Handle local difference
    set -g status-left "#[fg=black,bold,bg=green] ↑ $status_left"
}
